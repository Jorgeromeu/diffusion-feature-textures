hydra:
  run:
    dir: .
  job:
    chdir: false

defaults:
    - model: stable_diffusion_v1_5

run:
  job_type: "cross_frame_attn_experiment"
  wandb: true
  instant_exit: false
  download_artifacts: false
  tags: []

save_config:
  enabled: true
  out_artifact: 'attn_data'
  n_save_steps: 5
  module_paths: [
      # "down_blocks.0.attentions.0.transformer_blocks.0.attn1",
      # "down_blocks.0.attentions.1.transformer_blocks.0.attn1",
      # "down_blocks.1.attentions.0.transformer_blocks.0.attn1",
      # "down_blocks.1.attentions.1.transformer_blocks.0.attn1",
      # "down_blocks.2.attentions.0.transformer_blocks.0.attn1",
      # "down_blocks.2.attentions.1.transformer_blocks.0.attn1",
      # "up_blocks.1.attentions.0.transformer_blocks.0.attn1",
      # "up_blocks.1.attentions.1.transformer_blocks.0.attn1",
      # "up_blocks.1.attentions.2.transformer_blocks.0.attn1",
      # "up_blocks.2.attentions.0.transformer_blocks.0.attn1",
      # "up_blocks.2.attentions.1.transformer_blocks.0.attn1",
      # "up_blocks.2.attentions.2.transformer_blocks.0.attn1",
      # "up_blocks.3.attentions.0.transformer_blocks.0.attn1",
      # "up_blocks.3.attentions.1.transformer_blocks.0.attn1",
      "up_blocks.3.attentions.2.transformer_blocks.0.attn1",
      # "mid_block.attentions.0.transformer_blocks.0.attn1",
    ]


experiment:
  seed: 0
  prompt: "Deadpool"

  num_cameras: 5
  do_multiframe_attn: true
  target_frame_indices: [0, 1, 2, 3, 4]

  num_inference_steps: 10
  guidance_scale: 7.5
  controlnet_conditioning_scale: 1.0