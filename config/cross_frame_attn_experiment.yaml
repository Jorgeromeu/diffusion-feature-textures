defaults:
    - hydra: default
    - run: default
    - model: stable_diffusion_v1_5
    - noise_initialization: random
    - animation: cat_rotation

animation:
  n_frames: 5

run:
  job_type: "cross_frame_attn_experiment"

save_config:
  enabled: true
  out_artifact: 'attn_data'
  n_save_steps: 5
  module_paths: [
      "down_blocks.0.attentions.0.transformer_blocks.0.attn1",
      "down_blocks.0.attentions.1.transformer_blocks.0.attn1",
      "down_blocks.1.attentions.0.transformer_blocks.0.attn1",
      "down_blocks.1.attentions.1.transformer_blocks.0.attn1",
      "down_blocks.2.attentions.0.transformer_blocks.0.attn1",
      "down_blocks.2.attentions.1.transformer_blocks.0.attn1",
      "up_blocks.1.attentions.0.transformer_blocks.0.attn1",
      "up_blocks.1.attentions.1.transformer_blocks.0.attn1",
      "up_blocks.1.attentions.2.transformer_blocks.0.attn1",
      "up_blocks.2.attentions.0.transformer_blocks.0.attn1",
      "up_blocks.2.attentions.1.transformer_blocks.0.attn1",
      "up_blocks.2.attentions.2.transformer_blocks.0.attn1",
      "up_blocks.3.attentions.0.transformer_blocks.0.attn1",
      "up_blocks.3.attentions.1.transformer_blocks.0.attn1",
      "up_blocks.3.attentions.2.transformer_blocks.0.attn1",
      "mid_block.attentions.0.transformer_blocks.0.attn1",
    ]


cross_frame_attn_experiment:
  seed: 0
  prompt: "Deadpool"
  n_views: 5
  attend_to_self: false
  target_frame_indices: [0,1,2,3,4]
  num_inference_steps: 10
  guidance_scale: 7.5
  controlnet_conditioning_scale: 1.5